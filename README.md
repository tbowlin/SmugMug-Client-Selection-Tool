# SmugMug Client Selection Tool\n\nA Python tool that automatically identifies images in SmugMug galleries that have comments, helping photographers generate lists of client-selected images for further processing.\n\n## Overview\n\nWhen working with clients who comment on images in SmugMug galleries to indicate their selections, this tool automates the process of identifying which images have comments and generates clean lists of filenames for those images.\n\n## Features\n\n- **OAuth Authentication**: Uses your existing SmugMug API credentials\n- **Interactive Album Selection**: Lists all your albums and lets you choose which one to process\n- **Comment Detection**: Efficiently scans all images in an album for comments\n- **Filename Extraction**: Gets actual filenames (not just SmugMug IDs)\n- **Detailed Output**: Generates text files with filenames and comment details\n- **Progress Tracking**: Shows real-time progress while processing\n- **Error Handling**: Robust error handling for network issues and API limits\n\n## Prerequisites\n\n- Python 3.7 or higher\n- SmugMug API credentials (Consumer Key, Consumer Secret, OAuth Token, OAuth Secret)\n- Active SmugMug account with galleries/albums\n\n## Installation\n\nThe project includes a virtual environment setup to avoid system package conflicts.\n\n1. **Install dependencies (automatic with run script):**\n   ```bash\n   cd SmugMug-Client-Selection-Tool\n   ./run.sh\n   ```\n\n   Or manually:\n   ```bash\n   cd SmugMug-Client-Selection-Tool\n   python3 -m venv venv\n   source venv/bin/activate\n   pip install -r requirements.txt\n   ```\n\n2. **Verify your .env file contains your SmugMug credentials:**\n   ```\n   SMUGMUG_CONSUMER_KEY=your_consumer_key_here\n   SMUGMUG_CONSUMER_SECRET=your_consumer_secret_here\n   SMUGMUG_OAUTH_TOKEN=your_oauth_token_here\n   SMUGMUG_OAUTH_SECRET=your_oauth_secret_here\n   ```\n\n## Usage\n\n### Easiest Method (Recommended)\n\n```bash\ncd SmugMug-Client-Selection-Tool\n./run.sh\n```\n\nThis script automatically:\n- Creates a virtual environment if needed\n- Installs dependencies\n- Runs the main application\n\n### Manual Usage\n\n1. **Activate the virtual environment:**\n   ```bash\n   cd SmugMug-Client-Selection-Tool\n   source venv/bin/activate\n   ```\n\n2. **Run the script:**\n   ```bash\n   python3 src/smugmug-client.py\n   ```\n\n3. **Select an album:**\n   - The script will list all your SmugMug albums\n   - Enter the number corresponding to the album you want to process\n\n4. **Wait for processing:**\n   - The script will scan all images in the selected album\n   - Progress is shown in real-time\n   - Processing time depends on the number of images in the album\n\n5. **Review results:**\n   - Results are saved to the `output/` directory\n   - Filename format: `commented_images_[AlbumName]_[Timestamp].txt`\n   - The file contains both a simple list of filenames and detailed comment information\n\n### Testing Connection\n\nTest your API credentials before running the main tool:\n```bash\nsource venv/bin/activate\npython3 src/test_connection.py\n```\n\n### Alternative Usage (npm-style)\n\n```bash\nnpm run start\n```\n\n## Output Format\n\nThe generated text file contains:\n\n1. **Header**: Album name, generation timestamp\n2. **Simple List**: Just the filenames of commented images (easy for batch processing)\n3. **Detailed Section**: Each image with its comments, authors, and dates\n\nExample output:\n```\nImages with Comments - Wedding Portfolio 2024\nGenerated: 2024-08-07 22:15:30\n==================================================\n\nIMG_1234.jpg\nIMG_1567.jpg\nIMG_1890.jpg\n\nTotal: 3 images with comments\n\n==================================================\nCOMMENT DETAILS:\n==================================================\n\nFile: IMG_1234.jpg\nComments (2):\n  - Sarah Johnson: Love this one! Perfect for the album.\n    2024-08-05T14:30:00Z\n  - Mike Johnson: This captures the moment perfectly\n    2024-08-05T16:45:00Z\n```\n\n## API Rate Limiting\n\nThe tool includes automatic rate limiting to respect SmugMug's API limits:\n- 0.1 second delay between requests\n- Proper error handling for rate limit responses\n- Batch processing for large albums\n\n## Error Handling\n\nThe tool handles common issues:\n- Network connectivity problems\n- Invalid API credentials\n- Missing albums or images\n- SmugMug API rate limits\n- Permission issues\n\n## Troubleshooting\n\n### Common Issues\n\n1. **\"Failed to get user information\"**\n   - Check your API credentials in the .env file\n   - Ensure your OAuth tokens are valid and not expired\n\n2. **\"No albums found\"**\n   - Verify your SmugMug account has albums/galleries\n   - Check that your OAuth token has proper permissions\n\n3. **Slow processing**\n   - Large albums with many images will take time to process\n   - The tool shows progress, so you can monitor completion\n\n4. **Permission errors**\n   - Ensure your OAuth token has access to the albums you want to process\n   - Private albums require proper authentication\n\n5. **Import/Dependency errors**\n   - Make sure you're using the virtual environment: `source venv/bin/activate`\n   - Or use the `./run.sh` script which handles this automatically\n\n### Getting Help\n\nIf you encounter issues:\n1. Use the `./run.sh` script for automatic setup\n2. Verify your .env file contains valid credentials\n3. Test with `python3 src/test_connection.py` first\n4. Check the console output for specific error messages\n\n## Project Structure\n\n```\nSmugMug-Client-Selection-Tool/\n├── .env                    # Your SmugMug API credentials\n├── package.json           # Project metadata and scripts\n├── requirements.txt       # Python dependencies\n├── README.md             # This file\n├── run.sh                # Convenient shell script (recommended)\n├── venv/                 # Python virtual environment\n├── src/\n│   ├── smugmug-client.py # Main application script\n│   ├── config.py         # Configuration utilities\n│   └── test_connection.py # Connection testing script\n└── output/               # Generated filename lists\n```\n\n## Security Notes\n\n- Your .env file contains sensitive API credentials\n- Never commit the .env file to version control\n- Keep your OAuth tokens secure and regenerate if compromised\n- The virtual environment keeps dependencies isolated from your system\n\n## License\n\nMIT License - feel free to modify and use as needed.\n
